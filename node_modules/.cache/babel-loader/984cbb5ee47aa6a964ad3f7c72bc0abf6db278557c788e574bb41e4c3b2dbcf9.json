{"ast":null,"code":"var _jsxFileName = \"/home/user/rahimova/src/pages/Configurator.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { PRODUCT_CATEGORIES, PRODUCTS } from '../data/products';\nimport ProductSelector from '../components/ProductSelector';\nimport ConfigurationSummary from '../components/ConfigurationSummary';\nimport ApiService from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Configurator = () => {\n  _s();\n  const [selectedComponents, setSelectedComponents] = useState({});\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [isCompatible, setIsCompatible] = useState(true);\n  const handleComponentSelect = (category, product) => {\n    const updatedComponents = {\n      ...selectedComponents,\n      [category]: product\n    };\n    setSelectedComponents(updatedComponents);\n    checkCompatibility(updatedComponents);\n    calculateTotalPrice(updatedComponents);\n  };\n  const checkCompatibility = async components => {\n    try {\n      const result = await ApiService.checkCompatibility(components);\n      setIsCompatible(result.compatible);\n    } catch (error) {\n      console.error('Ошибка проверки совместимости', error);\n    }\n  };\n  const calculateTotalPrice = components => {\n    const price = Object.values(components).reduce((total, product) => total + ((product === null || product === void 0 ? void 0 : product.price) || 0), 0);\n    setTotalPrice(price);\n  };\n  const saveConfiguration = async () => {\n    try {\n      await ApiService.saveConfiguration({\n        components: selectedComponents,\n        totalPrice\n      });\n      // Показать уведомление об успешном сохранении\n    } catch (error) {\n      console.error('Ошибка сохранения конфигурации', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"configurator container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u041A\\u043E\\u043D\\u0444\\u0438\\u0433\\u0443\\u0440\\u0430\\u0442\\u043E\\u0440 \\u041F\\u041A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"configurator-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"component-selectors\",\n        children: PRODUCT_CATEGORIES.map(category => /*#__PURE__*/_jsxDEV(ProductSelector, {\n          category: category,\n          selectedProduct: selectedComponents[category.id],\n          onSelect: product => handleComponentSelect(category.id, product)\n        }, category.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ConfigurationSummary, {\n        components: selectedComponents,\n        totalPrice: totalPrice,\n        isCompatible: isCompatible,\n        onSave: saveConfiguration\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(Configurator, \"/cM92ZFAdhT5vWkYwSM1wNQuNhg=\");\n_c = Configurator;\nexport default Configurator;\nvar _c;\n$RefreshReg$(_c, \"Configurator\");","map":{"version":3,"names":["React","useState","useEffect","PRODUCT_CATEGORIES","PRODUCTS","ProductSelector","ConfigurationSummary","ApiService","jsxDEV","_jsxDEV","Configurator","_s","selectedComponents","setSelectedComponents","totalPrice","setTotalPrice","isCompatible","setIsCompatible","handleComponentSelect","category","product","updatedComponents","checkCompatibility","calculateTotalPrice","components","result","compatible","error","console","price","Object","values","reduce","total","saveConfiguration","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","selectedProduct","id","onSelect","onSave","_c","$RefreshReg$"],"sources":["/home/user/rahimova/src/pages/Configurator.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { PRODUCT_CATEGORIES, PRODUCTS } from '../data/products';\nimport ProductSelector from '../components/ProductSelector';\nimport ConfigurationSummary from '../components/ConfigurationSummary';\nimport ApiService from '../services/api';\n\nconst Configurator = () => {\n  const [selectedComponents, setSelectedComponents] = useState({});\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [isCompatible, setIsCompatible] = useState(true);\n\n  const handleComponentSelect = (category, product) => {\n    const updatedComponents = {\n      ...selectedComponents,\n      [category]: product\n    };\n\n    setSelectedComponents(updatedComponents);\n    checkCompatibility(updatedComponents);\n    calculateTotalPrice(updatedComponents);\n  };\n\n  const checkCompatibility = async (components) => {\n    try {\n      const result = await ApiService.checkCompatibility(components);\n      setIsCompatible(result.compatible);\n    } catch (error) {\n      console.error('Ошибка проверки совместимости', error);\n    }\n  };\n\n  const calculateTotalPrice = (components) => {\n    const price = Object.values(components).reduce(\n      (total, product) => total + (product?.price || 0), \n      0\n    );\n    setTotalPrice(price);\n  };\n\n  const saveConfiguration = async () => {\n    try {\n      await ApiService.saveConfiguration({\n        components: selectedComponents,\n        totalPrice\n      });\n      // Показать уведомление об успешном сохранении\n    } catch (error) {\n      console.error('Ошибка сохранения конфигурации', error);\n    }\n  };\n\n  return (\n    <div className=\"configurator container\">\n      <h1>Конфигуратор ПК</h1>\n\n      <div className=\"configurator-grid\">\n        <div className=\"component-selectors\">\n          {PRODUCT_CATEGORIES.map(category => (\n            <ProductSelector\n              key={category.id}\n              category={category}\n              selectedProduct={selectedComponents[category.id]}\n              onSelect={(product) => handleComponentSelect(category.id, product)}\n            />\n          ))}\n        </div>\n\n        <ConfigurationSummary\n          components={selectedComponents}\n          totalPrice={totalPrice}\n          isCompatible={isCompatible}\n          onSave={saveConfiguration}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Configurator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}