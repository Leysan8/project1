{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = process.env.REACT_APP_API_URL || 'https://api.example.com';\nclass ApiService {\n  static async request(endpoint, method = 'GET', data = null) {\n    try {\n      const config = {\n        method,\n        url: `${BASE_URL}/${endpoint}`,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this.getToken()}`\n        }\n      };\n      if (data) {\n        config.data = data;\n      }\n      const response = await axios(config);\n      return response.data;\n    } catch (error) {\n      this.handleError(error);\n    }\n  }\n  static getToken() {\n    return localStorage.getItem('token') || '';\n  }\n  static handleError(error) {\n    console.error('API Error:', error.response ? error.response.data : error.message);\n    throw error;\n  }\n\n  // Методы для работы с продуктами\n  static async getProducts(category = null) {\n    const endpoint = category ? `products?category=${category}` : 'products';\n    return this.request(endpoint);\n  }\n  static async getProductById(id) {\n    return this.request(`products/${id}`);\n  }\n\n  // Методы для работы с корзиной\n  static async addToCart(productId, quantity) {\n    return this.request('cart', 'POST', {\n      productId,\n      quantity\n    });\n  }\n  static async getCart() {\n    return this.request('cart');\n  }\n  static async removeFromCart(productId) {\n    return this.request(`cart/${productId}`, 'DELETE');\n  }\n\n  // Методы аутентификации\n  static async login(email, password) {\n    return this.request('auth/login', 'POST', {\n      email,\n      password\n    });\n  }\n  static async register(userData) {\n    return this.request('auth/register', 'POST', userData);\n  }\n\n  // Методы для конфигуратора\n  static async checkCompatibility(components) {\n    return this.request('configurator/compatibility', 'POST', {\n      components\n    });\n  }\n  static async saveConfiguration(configuration) {\n    return this.request('configurations', 'POST', configuration);\n  }\n}\nexport default ApiService;","map":{"version":3,"names":["axios","BASE_URL","process","env","REACT_APP_API_URL","ApiService","request","endpoint","method","data","config","url","headers","getToken","response","error","handleError","localStorage","getItem","console","message","getProducts","category","getProductById","id","addToCart","productId","quantity","getCart","removeFromCart","login","email","password","register","userData","checkCompatibility","components","saveConfiguration","configuration"],"sources":["/home/user/rahimova/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = process.env.REACT_APP_API_URL || 'https://api.example.com';\n\nclass ApiService {\n  static async request(endpoint, method = 'GET', data = null) {\n    try {\n      const config = {\n        method,\n        url: `${BASE_URL}/${endpoint}`,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this.getToken()}`\n        }\n      };\n\n      if (data) {\n        config.data = data;\n      }\n\n      const response = await axios(config);\n      return response.data;\n    } catch (error) {\n      this.handleError(error);\n    }\n  }\n\n  static getToken() {\n    return localStorage.getItem('token') || '';\n  }\n\n  static handleError(error) {\n    console.error('API Error:', error.response ? error.response.data : error.message);\n    throw error;\n  }\n\n  // Методы для работы с продуктами\n  static async getProducts(category = null) {\n    const endpoint = category \n      ? `products?category=${category}` \n      : 'products';\n    return this.request(endpoint);\n  }\n\n  static async getProductById(id) {\n    return this.request(`products/${id}`);\n  }\n\n  // Методы для работы с корзиной\n  static async addToCart(productId, quantity) {\n    return this.request('cart', 'POST', { productId, quantity });\n  }\n\n  static async getCart() {\n    return this.request('cart');\n  }\n\n  static async removeFromCart(productId) {\n    return this.request(`cart/${productId}`, 'DELETE');\n  }\n\n  // Методы аутентификации\n  static async login(email, password) {\n    return this.request('auth/login', 'POST', { email, password });\n  }\n\n  static async register(userData) {\n    return this.request('auth/register', 'POST', userData);\n  }\n\n  // Методы для конфигуратора\n  static async checkCompatibility(components) {\n    return this.request('configurator/compatibility', 'POST', { components });\n  }\n\n  static async saveConfiguration(configuration) {\n    return this.request('configurations', 'POST', configuration);\n  }\n}\n\nexport default ApiService;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,yBAAyB;AAE3E,MAAMC,UAAU,CAAC;EACf,aAAaC,OAAOA,CAACC,QAAQ,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAE;IAC1D,IAAI;MACF,MAAMC,MAAM,GAAG;QACbF,MAAM;QACNG,GAAG,EAAE,GAAGV,QAAQ,IAAIM,QAAQ,EAAE;QAC9BK,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAE,UAAU,IAAI,CAACC,QAAQ,CAAC,CAAC;QAC5C;MACF,CAAC;MAED,IAAIJ,IAAI,EAAE;QACRC,MAAM,CAACD,IAAI,GAAGA,IAAI;MACpB;MAEA,MAAMK,QAAQ,GAAG,MAAMd,KAAK,CAACU,MAAM,CAAC;MACpC,OAAOI,QAAQ,CAACL,IAAI;IACtB,CAAC,CAAC,OAAOM,KAAK,EAAE;MACd,IAAI,CAACC,WAAW,CAACD,KAAK,CAAC;IACzB;EACF;EAEA,OAAOF,QAAQA,CAAA,EAAG;IAChB,OAAOI,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE;EAC5C;EAEA,OAAOF,WAAWA,CAACD,KAAK,EAAE;IACxBI,OAAO,CAACJ,KAAK,CAAC,YAAY,EAAEA,KAAK,CAACD,QAAQ,GAAGC,KAAK,CAACD,QAAQ,CAACL,IAAI,GAAGM,KAAK,CAACK,OAAO,CAAC;IACjF,MAAML,KAAK;EACb;;EAEA;EACA,aAAaM,WAAWA,CAACC,QAAQ,GAAG,IAAI,EAAE;IACxC,MAAMf,QAAQ,GAAGe,QAAQ,GACrB,qBAAqBA,QAAQ,EAAE,GAC/B,UAAU;IACd,OAAO,IAAI,CAAChB,OAAO,CAACC,QAAQ,CAAC;EAC/B;EAEA,aAAagB,cAAcA,CAACC,EAAE,EAAE;IAC9B,OAAO,IAAI,CAAClB,OAAO,CAAC,YAAYkB,EAAE,EAAE,CAAC;EACvC;;EAEA;EACA,aAAaC,SAASA,CAACC,SAAS,EAAEC,QAAQ,EAAE;IAC1C,OAAO,IAAI,CAACrB,OAAO,CAAC,MAAM,EAAE,MAAM,EAAE;MAAEoB,SAAS;MAAEC;IAAS,CAAC,CAAC;EAC9D;EAEA,aAAaC,OAAOA,CAAA,EAAG;IACrB,OAAO,IAAI,CAACtB,OAAO,CAAC,MAAM,CAAC;EAC7B;EAEA,aAAauB,cAAcA,CAACH,SAAS,EAAE;IACrC,OAAO,IAAI,CAACpB,OAAO,CAAC,QAAQoB,SAAS,EAAE,EAAE,QAAQ,CAAC;EACpD;;EAEA;EACA,aAAaI,KAAKA,CAACC,KAAK,EAAEC,QAAQ,EAAE;IAClC,OAAO,IAAI,CAAC1B,OAAO,CAAC,YAAY,EAAE,MAAM,EAAE;MAAEyB,KAAK;MAAEC;IAAS,CAAC,CAAC;EAChE;EAEA,aAAaC,QAAQA,CAACC,QAAQ,EAAE;IAC9B,OAAO,IAAI,CAAC5B,OAAO,CAAC,eAAe,EAAE,MAAM,EAAE4B,QAAQ,CAAC;EACxD;;EAEA;EACA,aAAaC,kBAAkBA,CAACC,UAAU,EAAE;IAC1C,OAAO,IAAI,CAAC9B,OAAO,CAAC,4BAA4B,EAAE,MAAM,EAAE;MAAE8B;IAAW,CAAC,CAAC;EAC3E;EAEA,aAAaC,iBAAiBA,CAACC,aAAa,EAAE;IAC5C,OAAO,IAAI,CAAChC,OAAO,CAAC,gBAAgB,EAAE,MAAM,EAAEgC,aAAa,CAAC;EAC9D;AACF;AAEA,eAAejC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}